if(_satellite.getVar("page Type2")=="error page")
s.pageType = "errorPage"

/******************************************* BEGIN CODE TO DEPLOY *******************************************/
/* Adobe Consulting Plugin: getPercentPageViewed v4.0 w/handlePPVevents helper function (Requires p_fo plug-in) */
s.getPercentPageViewed=function(pid,ch){var s=this,a=s.c_r("s_ppv");a=-1<a.indexOf(",")?a.split(","):[];a[0]=s.unescape(a[0]); pid=pid?pid:s.pageName?s.pageName:document.location.href;s.ppvChange="undefined"===typeof ch||!0==ch?!0:!1;if("undefined"=== typeof s.linkType||"o"!==s.linkType)s.ppvID&&s.ppvID===pid||(s.ppvID=pid,s.c_w("s_ppv",""),s.handlePPVevents()), s.p_fo("s_gppvLoad") &&window.addEventListener&&(window.addEventListener("load",s.handlePPVevents,!1),window.addEventListener("click",s.handlePPVevents, !1),window.addEventListener("scroll",s.handlePPVevents,!1)),s._ppvPreviousPage=a[0]?a[0]:"",s._ppvHighestPercentViewed=a[1]?a[1]:"",s._ppvInitialPercentViewed=a[2]?a[2]:"",s._ppvHighestPixelsSeen=a[3]?a[3]:"",s._ppvFoldsSeen=a[4]?a[4]:"",s._ppvFoldsAvailable=a[5]?a[5]:""};

/* Adobe Consulting Plugin: handlePPVevents helper function (for getPercentPageViewed v4.0 Plugin) */
s.handlePPVevents=function(){if("undefined"!==typeof s_c_il){for(var c=0,g=s_c_il.length;c<g;c++)if(s_c_il[c]&& (s_c_il[c].getPercentPageViewed||s_c_il[c].getPreviousPageActivity)){var s=s_c_il[c];break}if(s&&s.ppvID){var f=Math.max (Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight, document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),h= window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;c=(window.pageYOffset|| window.document.documentElement.scrollTop||window.document.body.scrollTop)+h;g=Math.min(Math.round(c/f*100),100);var k=Math.floor(c/h);h=Math.floor(f/h);var d="";if(!s.c_r("s_tp")||s.unescape(s.c_r("s_ppv").split(",")[0])!==s.ppvID||s.p_fo(s.ppvID) ||1==s.ppvChange&&s.c_r("s_tp")&&f!=s.c_r("s_tp")){(s.unescape(s.c_r("s_ppv").split(",")[0])!==s.ppvID||s.p_fo(s.ppvID+"1"))&&s.c_w("s_ips",c);if(s.c_r("s_tp")&&s.unescape(s.c_r("s_ppv").split(",")[0])===s.ppvID){s.c_r("s_tp");d=s.c_r("s_ppv");var e=-1< d.indexOf(",")?d.split(","):[];d=e[0]?e[0]:"";e=e[3]?e[3]:"";var l=s.c_r("s_ips");d=d+","+Math.round(e/f*100)+","+Math.round(l/ f*100)+","+e+","+k}s.c_w("s_tp",f)}else d=s.c_r("s_ppv");var b=d&&-1<d.indexOf(",")?d.split(",",6):[];f=0<b.length?b[0]: escape(s.ppvID);e=1<b.length?parseInt(b[1]):g;l=2<b.length?parseInt(b[2]):g;var m=3<b.length?parseInt(b[3]):c,n=4<b.length? parseInt(b[4]):k;b=5<b.length?parseInt(b[5]):h;0<g&&(d=f+","+(g>e?g:e)+","+l+","+(c>m?c:m)+","+(k>n?k:n)+","+(h>b?h:b)); s.c_w("s_ppv",d)}}};

/* Adobe Consulting Plugin: p_fo (pageFirstOnly) v2.0 */
s.p_fo=function(on){var s=this;s.__fo||(s.__fo={});if(s.__fo[on])return!1;s.__fo[on]={};return!0};
/******************************************** END CODE TO DEPLOY ********************************************/
/******************************************* BEGIN CODE TO DEPLOY *******************************************/
/* Adobe Consulting Plugin: websiteBot BETA v0.1 */
websiteBot=true;if(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))){document.addEventListener('mousemove',function detectMouseMove(){document.removeEventListener('mousemove',detectMouseMove,false);websiteBot=false;})}else websiteBot=false;
/******************************************** END CODE TO DEPLOY ********************************************/
/*
* Plugin Utility: Append to List v1.2
*/
s.apl=new Function("l","v","d","u",""
    +"var s=this,m=0;if(!l)l='';if(u){var i,n,a=l.split(d),al=a.length;fo"
    +"r(i=0;i<al;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowe"
    +"rCase()));}}if(!m)l=l?l+d+v:v;return l;");
/******************************************* BEGIN CODE TO DEPLOY *******************************************/
/* Adobe Consulting Plugin: apl (appendToList) v4.0 */
function apl(lv,va,d1,d2,cc){var b=lv,d=va,e=d1,c=d2,g=cc;if("-v"===b)return{plugin:"apl",version:"4.0"};var h=function(){if("undefined"!==typeof window.s_c_il)for(var k=0,b;k<window.s_c_il.length;k++)if(b=window.s_c_il[k],b._c&&"s_c"===b._c)return b}();"undefined"!==typeof h&&(h.contextData.apl="4.0");window.inList=window.inList||function(b,d,c,e){if("string"!==typeof d)return!1;if("string"===typeof b)b=b.split(c||",");else if("object"!==typeof b)return!1;c=0;for(a=b.length;c<a;c++)if(1==e&&d===b[c]||d.toLowerCase()===b[c].toLowerCase())return!0;return!1};if(!b||"string"===typeof b){if("string"!==typeof d||""===d)return b;e=e||",";c=c||e;1==c&&(c=e,g||(g=1));2==c&&1!=g&&(c=e);d=d.split(",");h=d.length;for(var f=0;f<h;f++)window.inList(b,d[f],e,g)||(b=b?b+c+d[f]:d[f])}return b};
/******************************************** END CODE TO DEPLOY ********************************************/
/*
 * Get visit start
 */
s.getVisitStart = new Function("c", "" + "var s=this,v=1,t=new Date;t.setTime(t.getTime()+1800000);if(s.c_r(c" + ")){v=0}if(!s.Util.cookieWrite(c,1,t)){s.Util.cookieWrite(c,1,0)}if(!s.Util.cookieRead(c)){v=0}return v;");


s.usePlugins=true
function s_doPlugins(s) {


  s.pageName = _satellite.getVar('Adobe Page Name');
  s.eVar1 = _satellite.getVar('Adobe Page Name'); /* Added by Ankit  */
  s.eVar3 = _satellite.getVar('subcategory1');
  s.eVar2 = _satellite.getVar('primaryCategory'); /* Added by Ankit  */
  s.eVar4 = _satellite.getVar('subcategory2');
  s.eVar6 = _satellite.getVar('brandName');
  s.eVar9 = _satellite.getVar('breadcrumbs');
  s.eVar10 = _satellite.getVar('destinationURL');
  s.eVar11 = _satellite.getVar('referringURL');
  s.eVar19 = _satellite.getVar('email - hashed');
  s.eVar99 = _satellite.getVar('userAgent');
  s.eVar82 = _satellite.getVar('utmSource');
  s.eVar83 = _satellite.getVar('utmMedium');
  s.eVar84 = _satellite.getVar('utmCampaign');

  s.prop1 = "D=v3";
  s.prop2 = "D=v4";
  s.prop6 = "D=v9";
  s.prop7 = "D=v10";
  s.prop8 = "D=v11";
  s.prop16 = "D=v19";
  
  
    /* Added by Ankit  */    
   s.campaign=s.getValOnce(s.campaign,'s_cmp',30);
  s.trackExternalLinks=true
  s.linkInternalFilters="shoebacca.com,qa.,javascript:,mailto,stg,dev"
  s.linkLeaveQueryString=false
        
 /* Added by Ankit  */       
 /* set s.campaign */
  
s.campaign=_satellite.getVar("cid");
if (document.location.search.indexOf("utm_") != -1 && (!s.campaign || s.campaign === "")){
let utm_campaign=_satellite.getVar("utmCampaign") || ""; //grab from the data element (which pulls from the query param), unless the data element returns "undefined", in which case set a blank string
let utm_source=_satellite.getVar("utmSource")|| "" ;
let utm_medium=_satellite.getVar("utmMedium")|| "" ;
let utm_content=_satellite.getVar("utmContent")|| "";
let utm_term=_satellite.getVar("utmTerm")|| "" ;

s.campaign= utm_campaign + "|" + utm_source + "|" + utm_medium + "|" + utm_content + "|" + utm_term;

if(s.campaign === "||||"){s.campaign = ""}

 }  
}

  try {
  s.channel = adobeDataLayer.getState().pageInfo.primaryCategory;
  s.eVar5 = adobeDataLayer.getState().pageInfo.pageType;
  } catch(e) {}

  try {
  s.eVar21 = adobeDataLayer.getState().user.status;
  s.eVar18 = adobeDataLayer.getState().user.__typename;
    
  s.prop18 = "D=v21";
  s.prop15 = "D=v18"; 
    
  } catch(e) {}

  try {
    var tmpEvents = adobeDataLayer.getState.pageInfo.pageType.toLowerCase();
    if (tmpEvents.indexOf('plp') > -1) {
      s.events += ",event4";
  }
  } catch(e) {}


if(s.pageName) s.getPercentPageViewed();
if(s._ppvPreviousPage)
{
  s.prop74 = s._ppvPreviousPage;
  s.prop75= "highestPercentViewed=" + s._ppvHighestPercentViewed + " | initialPercentViewed=" + s._ppvInitialPercentViewed + " + | foldsSeen=" + s._ppvFoldsSeen + " | foldsAvailable=" + s._ppvFoldsAvailable;
}

//if(s.inList(s.events, "purchase")) s.eVar150 = s.getVisitDuration();
s.eVar151 = s && s.getVisitDuration && s.getVisitDuration();
s.prop73 = s && s.getVisitDuration && s.getVisitDuration();
s.eVar152 = s && s.getNewRepeat && s.getNewRepeat();

if(s.pageName) s && s.getPageLoadTime && s.getPageLoadTime();
if(s._pltPreviousPage)
{
  s.prop72 = s._pltLoadTime;
}

if(!document.documentMode) s.eVar153 = s && s.getTimeParting && s.getTimeParting("America/Chicago");
else s.eVar153 = "Internet Explorer Visitors";

s.prop71 = s && s.getTimeSinceLastVisit && s.getTimeSinceLastVisit();
s.eVar154 = _satellite.getVar('Adobe Page Name');
s.eVar155 = _satellite.getVar('Adobe Experience Cloud ID');
s.eVar156 = _satellite.getVar('Activity/Experience ID');
s.eVar157 = _satellite.getVar('Activity/Experience Name');


s.prop70= s && s.getVisitNum && s.getVisitNum('m', 's_vnum');
s.prop69= s && s.getTimeSinceLastVisit && s.getTimeSinceLastVisit('s_tslv');

s.eVar158 = _satellite.getVar('Google Client ID');
s.eVar160 = s.Util.getQueryParam('icmp');
s.eVar100= _satellite.getVisitorId().getMarketingCloudVisitorID();
  
// Riley Johnson (Adobe Consultant) comment out the below campaign logic to set the campaign code via the data element rather than custom code.
//if(s && s.getQueryParam) {
//if(s.getQueryParam('utm_medium') || s.getQueryParam('utm_source') || s.getQueryParam('utm_campaign') || s.getQueryParam('utm_term') || s.getQueryParam('utm_content')){ s.campaign = s.getQueryParam('utm_source')+"|"+ s.getQueryParam('utm_medium')+"|"+ s.getQueryParam('utm_campaign')+"|"+ s.getQueryParam('utm_term')+"|"+ s.getQueryParam('utm_content'); }
//}
//s.campaign=s && s.getValOnce && s.getValOnce(s.campaign,'s_campaign',0);
 
//s.linkTrackVars = apl(s.linkTrackVars, "eVar5,eVar19,eVar21,eVar18,eVar151,eVar152,eVar153,eVar154,eVar155,eVar158,eVar160,prop71,prop70,prop69,prop66"); //ensures that prop1 will be included on the first hit of the visit

}
s.doPlugins=s_doPlugins 
